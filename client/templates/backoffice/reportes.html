<template name="reportes">

	<div class="contenedor-negocios">
		<div class="set-lista-negocios">

			<div class="negocio item-negocio elegido">
				<span class="negocio-item" style="text-align: center;">Reportes</span>
			</div>

			{{#if isInRole 'administrador'}}
			<div class="negocio item-negocio ingreso-ventas">
				<span class="negocio-item" style="text-align: center;">Ventas</span>
			</div>
			{{/if}}

			{{#if isInRole 'ventas'}}
			<div class="negocio item-negocio ingreso-ventas">
				<span class="negocio-item" style="text-align: center;">Ventas</span>
			</div>
			{{/if}}

			{{#if isInRole 'contabilidad'}}
			<div class="negocio item-negocio ingreso-ventas">
				<span class="negocio-item" style="text-align: center;">Ventas</span>
			</div>
			{{/if}}

			{{#if isInRole 'contabilidad'}}
			<div class="negocio item-negocio ingreso-carga">
				<span class="negocio-item" style="text-align: center;">Ingresos</span>
			</div>
			{{/if}}

			{{#if isInRole 'administrador'}}
			<div class="negocio item-negocio ingreso-carga">
				<span class="negocio-item" style="text-align: center;">Ingresos</span>
			</div>
			{{/if}}

			{{#if isInRole 'almacen'}}
			<div class="negocio item-negocio ingreso-carga">
				<span class="negocio-item" style="text-align: center;">Ingresos</span>
			</div>
			{{/if}}
		</div>
	</div>


	<div class="cuadro-main">

		<div class="sub-menu">
			<div class="stock stock-elegido">
				<p>Reporte de Hoy</p>
			</div>

			{{#if isInRole 'almacen'}}
			<div class="stock ingresar-carga">
				<p>Ingresar carga</p>
			</div>
			{{/if}}

			{{#if isInRole 'administrador'}}
			<div class="stock ingresar-carga">
				<p>Ingresar carga</p>
			</div>
			{{/if}}

			{{#if isInRole 'administrador'}}
			<div class="stock ingresar-merma">
				<p>Ingresar merma</p>
			</div>
			{{/if}}

			{{#if isInRole 'almacen'}}
			<div class="stock ingresar-merma">
				<p>Ingresar merma</p>
			</div>
			{{/if}}

			{{#if isInRole 'administrador'}}
			<div class="stock ingresar-inventario">
				<p>Ingresar inventario final</p>
			</div>
			{{/if}}

			{{#if isInRole 'almacen'}}
			<div class="stock ingresar-inventario">
				<p>Ingresar inventario final</p>
			</div>
			{{/if}}
		</div>

		{{>reporteDiario}}

		<table>
			<thead>
				<tr>
					<th><p style="margin-left: 9px; color: #606C76">DÍA</p></th>

							{{#if isInRole 'administrador'}}
      				<th><p style="margin-left: 9px; color: #606C76">VENTAS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'contabilidad'}}
							<th><p style="margin-left: 9px; color: #606C76">VENTAS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'ventas'}}
							<th><p style="margin-left: 9px; color: #606C76">VENTAS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'administrador'}}
      				<th><p style="margin-left: 9px; color: #606C76">COMPRAS (S/.)</p></th>
							{{/if}}
							{{#if isInRole 'contabilidad'}}
							<th><p style="margin-left: 9px; color: #606C76">COMPRAS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'administrador'}}
      				<th><p style="margin-left: 9px; color: #606C76">MERMA (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'contabilidad'}}
      				<th><p style="margin-left: 9px; color: #606C76">MERMA (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'almacen'}}
      				<th><p style="margin-left: 9px; color: #606C76">MERMA (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'administrador'}}
      				<th><p style="margin-left: 9px; color: #606C76">COSTOS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'contabilidad'}}
      				<th><p style="margin-left: 9px; color: #606C76">COSTOS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'almacen'}}
      				<th><p style="margin-left: 9px; color: #606C76">COSTOS (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'administrador'}}
      				<th><p style="margin-left: 9px; color: #606C76">UTILIDAD (S/.)</p></th>
							{{/if}}

							{{#if isInRole 'contabilidad'}}
      				<th><p style="margin-left: 9px; color: #606C76">UTILIDAD (S/.)</p></th>
							{{/if}}
				</tr>
			</thead>
			<tbody>
				{{#each todosreportes }}
				<tr class="tabla-hover">
						<td><p style="margin-left: 20px;">{{fechaAux}}</p></td>

						{{#if isInRole 'administrador'}}
						<td><p style="margin-left: 20px;">S/. {{venta}}</p></td>
						{{/if}}

						{{#if isInRole 'ventas'}}
						<td><p style="margin-left: 20px;">S/. {{venta}}</p></td>
						{{/if}}

						{{#if isInRole 'contabilidad'}}
						<td><p style="margin-left: 20px;">S/. {{venta}}</p></td>
						{{/if}}

						{{#if isInRole 'administrador'}}
						<td><p style="margin-left: 20px;">S/. {{compra}}</p></td>
						{{/if}}

						{{#if isInRole 'contabilidad'}}
						<td><p style="margin-left: 20px;">S/. {{compra}}</p></td>
						{{/if}}

						{{#if isInRole 'administrador'}}
						<td><p style="margin-left: 20px;">S/. {{merma}}</p></td>
						{{/if}}

						{{#if isInRole 'contabilidad'}}
						<td><p style="margin-left: 20px;">S/. {{merma}}</p></td>
						{{/if}}

						{{#if isInRole 'almacen'}}
						<td><p style="margin-left: 20px;">S/. {{merma}}</p></td>
						{{/if}}

						{{#if isInRole 'administrador'}}
						<td><p style="margin-left: 20px;">S/. {{costo}}</p></td>
						{{/if}}

						{{#if isInRole 'contabilidad'}}
						<td><p style="margin-left: 20px;">S/. {{costo}}</p></td>
						{{/if}}

						{{#if isInRole 'almacen'}}
						<td><p style="margin-left: 20px;">S/. {{costo}}</p></td>
						{{/if}}

						{{#if isInRole 'administrador'}}
						<td><p style="margin-left: 20px;">S/. {{utilidad}}</p></td>
						{{/if}}

						{{#if isInRole 'contabilidad'}}
						<td><p style="margin-left: 20px;">S/. {{utilidad}}</p></td>
						{{/if}}
				</tr>
				{{/each}}
			</tbody>
		</table>
		<input class="button-primary boton-formulario" type="button" value="Cargar más" name="mas" id="boton-login" style="width: 90%; margin: 0 auto; margin-bottom: 20px;">
	</div>



</template>

<template name="reporteDiario">
	<div class="cuadro-reporte" style="padding-bottom: 10px;">
		<div class="container">

		<div class="row">

		<div class="column column-100">

			<div class="row">
				<div class="column column-50" style="text-align: center">
					<span class="turquesa reporte-texto-span"></span>
					<h2 class="reporte-texto">
						Ventas
					</h2>
				</div>
				<div class="column column-50" style="text-align: center">
					<span class="azul reporte-texto-span"></span>
					<h2 class="reporte-texto">
						Costos
					</h2>
				</div>
			</div>
			<div class="row">
				<div class="column" style="text-align: center;">
					<canvas id="reporte"></canvas>
				</div>
			</div>





		</div>

		<div class="column column-100">
			<div class="row">

				<div class="column column-50" style="text-align: center">
					<span class="verde reporte-texto-span"></span>
					<h2 class="reporte-texto">
						Merma
					</h2>
				</div>

				<div class="column column-50" style="text-align: center">
					<span class="turquesa reporte-texto-span"></span>
					<h2 class="reporte-texto">
						Ventas
					</h2>
				</div>

			</div>

			<div class="row">
				<div class="column" style="text-align: center;">
					<canvas id="reporteVM"></canvas>
				</div>
			</div>

		</div>

		</div>

		<div class="row">
			<div class="column column-100">
				<div class="row">
					<div class="column column-50" style="text-align: center">
						<span class="naranja reporte-texto-span"></span>
						<h2 class="reporte-texto">
							Utilidades
						</h2>
					</div>
					<div class="column column-50" style="text-align: center">
						<span class="azul reporte-texto-span"></span>
						<h2 class="reporte-texto">
							Costos
						</h2>
					</div>
				</div>
				<div class="row">
					<div class="column" style="text-align: center;">
						<canvas id="reporteUC"></canvas>
					</div>
				</div>
			</div>
			<div class="column column-50">
				<div class="row">
					<h2 style="color: white; width: 80%; font-size: 18px; margin: 10px auto; text-align: center;">Stock de productos</h2>
				</div>
				<div class="row">
					<div class="column" style="text-align: center">
						<canvas id="reporteP"></canvas>
					</div>
				</div>
			</div>
		</div>

		<!-- Chart para Utilidad vs Gastos y chart para Mermas -->
			<div class="row">
			<div class="column column-100">
				<div class="row">
					<div class="column column-50" style="text-align: center">
						<span class="naranja reporte-texto-span"></span>
						<h2 class="reporte-texto">
							Utilidades
						</h2>
					</div>
					<div class="column column-50" style="text-align: center">
						<span class="reporte-texto-span" style="background-color: rgba(241, 196, 15,1.0);"></span>
						<h2 class="reporte-texto">
							Gastos
						</h2>
					</div>
				</div>
				<div class="row">
					<div class="column" style="text-align: center;">
						<canvas id="reporteUG"></canvas>
					</div>
				</div>
			</div>
			<div class="column column-50">
				<div class="row">
					<div class="column column-100" style="text-align: center;">
						<span class="verde reporte-texto-span"></span>
						<h2 style="color: white;" class="reporte-texto">Merma</h2>
					</div>

				</div>
				<div class="row">
					<div class="column" style="text-align: center">
						<canvas id="reporteM"></canvas>
					</div>
				</div>
			</div>
		</div>

		</div>
	</div>


	{{#if Template.subscriptionsReady}}

	{{#with reportes}}
	<div class="cuadro-reporte">

			<div class="container">

				<div class="row">
					<div class="column">
						<h2 style="color: white; width: 80%; margin: 20px auto; text-align: center; font-weight: 300; text-transform: uppercase;">Datos de hoy</h2>
					</div>
				</div>

				<div class="row" style="text-align: center;">
					{{#if isInRole 'administrador'}}
					<div class="column">
						<div class="black-box">
								<h2>S/. {{utilidad}}</h2>
								<p>Utilidad total</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'contabilidad'}}
					<div class="column">
						<div class="black-box">
								<h2>S/. {{utilidad}}</h2>
								<p>Utilidad total</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'contabilidad'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{venta}}</h2>
							<p>Total de ventas</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'administrador'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{venta}}</h2>
							<p>Total de ventas</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'ventas'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{venta}}</h2>
							<p>Total de ventas</p>
						</div>
					</div>
					{{/if}}


					{{#if isInRole 'administrador'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{costo}}</h2>
							<p>Total de costos</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'contabilidad'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{costo}}</h2>
							<p>Total de costos</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'almacen'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{costo}}</h2>
							<p>Total de costos</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'almacen'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{merma}}</h2>
							<p>Valor en merma</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'administrador'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{merma}}</h2>
							<p>Valor en merma</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'contabilidad'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{merma}}</h2>
							<p>Valor en merma</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'contabilidad'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{compra}}</h2>
							<p>Total de compras</p>
						</div>
					</div>
					{{/if}}

					{{#if isInRole 'administrador'}}
					<div class="column">
						<div class="black-box">
							<h2>S/. {{compra}}</h2>
							<p>Total de compras</p>
						</div>
					</div>
					{{/if}}

				</div>
			</div>


		</div>
	{{/with}}

	{{else}}

	<div class="cuadro-reporte">

			<div class="container">

				<div class="row" style="text-align: center;">
					<div class="column">
						<div class="black-box">
								<h2>S/. {{>loader}}</h2>
								<p>Utilidad total</p>
						</div>
					</div>
					<div class="column">
						<div class="black-box">
							<h2>S/. {{>loader}}</h2>
							<p>Total de ventas</p>
						</div>
					</div>
					<div class="column">
						<div class="black-box">
							<h2>S/. {{>loader}}</h2>
							<p>Total de costos</p>
						</div>
					</div>
					<div class="column">
						<div class="black-box">
							<h2>S/. {{>loader}}</h2>
							<p>Valor en merma</p>
						</div>
					</div>
					<div class="column">
						<div class="black-box">
							<h2>S/. {{>loader}}</h2>
							<p>Total de compras</p>
						</div>

					</div>
				</div>
			</div>


		</div>

	{{/if}}
</template>
